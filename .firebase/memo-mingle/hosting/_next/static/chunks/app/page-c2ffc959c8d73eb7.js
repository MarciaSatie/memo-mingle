(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1204:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3063,23)),Promise.resolve().then(s.bind(s,4436)),Promise.resolve().then(s.bind(s,6126)),Promise.resolve().then(s.bind(s,1524))},1524:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(5155),r=s(2115),n=s(8226),l=s(5317);function o(){let[e,t]=(0,r.useState)(""),[s,o]=(0,r.useState)([]),[i,d]=(0,r.useState)(!0),[c,m]=(0,r.useState)(null),u=async s=>{if(s.preventDefault(),e.trim())try{await (0,l.gS)((0,l.rJ)(n.db,"memos"),{text:e,createdAt:new Date().toISOString()}),t("")}catch(e){console.error("Error adding document: ",e),m("Failed to add memo.")}};return((0,r.useEffect)(()=>{if(!n.db){console.warn("Firestore database is not initialized."),d(!1),m("Firestore not initialized.");return}let e=(0,l.P)((0,l.rJ)(n.db,"memos"),(0,l.My)("createdAt","desc")),t=(0,l.aQ)(e,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),o(t),d(!1),m(null)},e=>{console.error("Error fetching memos: ",e),m("Failed to load memos."),d(!1)});return()=>t()},[]),i)?(0,a.jsx)("div",{className:"p-4 text-center",children:"Loading memos..."}):c?(0,a.jsxs)("div",{className:"p-4 text-center text-red-600",children:["Error: ",c]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center p-4",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-blue-800 mb-6",children:"My Memo App"}),(0,a.jsxs)("form",{onSubmit:u,className:"w-full max-w-md bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,a.jsx)("label",{htmlFor:"newMemo",className:"block text-gray-700 text-sm font-bold mb-2",children:"New Memo:"}),(0,a.jsx)("textarea",{id:"newMemo",value:e,onChange:e=>t(e.target.value),placeholder:"What's on your mind?",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mb-4 h-24 resize-y",required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",children:"Add Memo"})]}),(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Memos:"}),0===s.length?(0,a.jsx)("p",{className:"text-gray-600",children:"No memos yet. Add one above!"}):(0,a.jsx)("ul",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("li",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,a.jsx)("p",{className:"text-gray-800 text-lg break-words",children:e.text}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:e.createdAt&&new Date(e.createdAt).toLocaleString()})]},e.id))})]})]})}},4436:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),r=s(8226),n=s(5404),l=s(8511);function o(){let{user:e,loading:t}=(0,l.A)();return t?(0,a.jsx)("span",{className:"text-sm opacity-70",children:"Checking session…"}):e?(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm",children:e.displayName||e.email||"Signed in"}),(0,a.jsx)("button",{onClick:()=>(0,n.CI)(r.j2),className:"rounded border px-2 py-1 text-sm hover:bg-fuchsia-300 hover:text-black",children:"Sign out"})]}):(0,a.jsx)("button",{onClick:async()=>{let e=new n.HF;await (0,n.df)(r.j2,e)},className:"rounded border px-3 py-2 text-sm hover:bg-fuchsia-300 hover:text-black",children:"Sign in"})}},6126:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(5155),r=s(8511);function n(){let{user:e,loading:t}=(0,r.A)();return(0,a.jsx)("div",{className:"fixed bottom-3 right-3 text-xs px-2 py-1 rounded bg-black/70 text-white z-50",children:t?"auth: loading…":e?"auth: ".concat(e.uid):"auth: signed out"})}},8226:(e,t,s)=>{"use strict";s.d(t,{db:()=>o,j2:()=>i});var a=s(3915),r=s(5317);s(1906);var n=s(5404);let l=(0,a.Wp)({apiKey:"AIzaSyB7r7ioo_QMZjFWr8kCsL9qlLkGmQp8j-k",authDomain:"memo-mingle.firebaseapp.com",projectId:"memo-mingle",storageBucket:"memo-mingle.appspot.com",messagingSenderId:"143322484772",appId:"1:143322484772:web:ae513c99c23195c79f08b1",measurementId:"G-1BBTPF9BCD"}),o=(0,r.aU)(l),i=(0,n.xI)(l);Promise.resolve().then(s.bind(s,1906)).then(e=>{let{getAnalytics:t,isSupported:s}=e;s().then(e=>{e&&t(l)})})},8511:(e,t,s)=>{"use strict";s.d(t,{A:()=>d,default:()=>i});var a=s(5155),r=s(2115),n=s(8226),l=s(5404);let o=(0,r.createContext)({user:null,loading:!0});function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),[d,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{let e=(0,l.hg)(n.j2,e=>{i(e||null),c(!1)});return()=>e()},[]),(0,a.jsx)(o.Provider,{value:{user:s,loading:d},children:t})}function d(){return(0,r.useContext)(o)}}},e=>{e.O(0,[135,965,806,441,964,358],()=>e(e.s=1204)),_N_E=e.O()}]);